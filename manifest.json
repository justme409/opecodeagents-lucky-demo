{
  "version": "2.0.0",
  "description": "OpenCode Agent Task Manifest - Maps agent tasks to required workspace files using Master Schema",
  "schema_architecture": {
    "master_schema": "schemas/neo4j/master-schema.ts",
    "agent_manifest": "schemas/neo4j/agent-manifest.ts",
    "description": "All 26 entities consolidated into master schema with agent metadata"
  },
  "tasks": {
    "itp-generation": {
      "description": "Generate Inspection and Test Plans from project specifications",
      "output_type": "ITP Template with inspection points",
      "agent_id": "ITP_AGENT",
      "entities": ["ITPTemplate", "InspectionPoint", "Standard"],
      "files": [
        "shared/instructions.md",
        "shared/connection details.md",
        "shared/Writing to Generated DB.md",
        "shared/neo4j standards schema.md",
        "shared/neo4j project docs schema.md",
        "shared/neo4j reference docs schema.md",
        "prompts/itp-generation.md"
      ]
    },
    "project-details": {
      "description": "Extract project metadata, parties, contracts, and key dates from project documents",
      "output_type": "Project node with comprehensive metadata",
      "agent_id": "PROJECT_DETAILS",
      "entities": ["Project", "ContactList", "Party", "PartyContact"],
      "files": [
        "shared/instructions.md",
        "shared/connection details.md",
        "shared/Writing to Generated DB.md",
        "shared/neo4j project docs schema.md",
        "shared/neo4j reference docs schema.md",
        "prompts/project-details.md"
      ]
    },
    "wbs-extraction": {
      "description": "Extract Work Breakdown Structure from project scope and specifications",
      "output_type": "Hierarchical WBS nodes with work packages",
      "agent_id": "WBS_EXTRACTION",
      "entities": ["WBSNode"],
      "files": [
        "shared/instructions.md",
        "shared/connection details.md",
        "shared/Writing to Generated DB.md",
        "shared/neo4j standards schema.md",
        "shared/neo4j project docs schema.md",
        "shared/neo4j reference docs schema.md",
        "prompts/wbs-extraction.md"
      ]
    },
    "lbs-extraction": {
      "description": "Extract Location Breakdown Structure from project drawings and site information",
      "output_type": "Hierarchical LBS nodes with location mappings to WBS",
      "agent_id": "LBS_EXTRACTION",
      "entities": ["LBSNode"],
      "files": [
        "shared/instructions.md",
        "shared/connection details.md",
        "shared/Writing to Generated DB.md",
        "shared/neo4j standards schema.md",
        "shared/neo4j project docs schema.md",
        "shared/neo4j reference docs schema.md",
        "prompts/lbs-extraction.md"
      ]
    },
    "pqp-generation": {
      "description": "Generate Project Quality Plan based on project requirements and ISO 9001",
      "output_type": "Management Plan with sections and content blocks",
      "agent_id": "PQP_GENERATION",
      "entities": ["ManagementPlan"],
      "files": [
        "shared/instructions.md",
        "shared/connection details.md",
        "shared/Writing to Generated DB.md",
        "shared/neo4j standards schema.md",
        "shared/neo4j project docs schema.md",
        "shared/neo4j reference docs schema.md",
        "prompts/pqp-generation.md"
      ]
    },
    "emp-generation": {
      "description": "Generate Environmental Management Plan based on project requirements and ISO 14001",
      "output_type": "Management Plan with environmental controls",
      "agent_id": "EMP_GENERATION",
      "entities": ["ManagementPlan"],
      "files": [
        "shared/instructions.md",
        "shared/connection details.md",
        "shared/Writing to Generated DB.md",
        "shared/neo4j standards schema.md",
        "shared/neo4j project docs schema.md",
        "shared/neo4j reference docs schema.md",
        "prompts/emp-generation.md"
      ]
    },
    "ohsmp-generation": {
      "description": "Generate OHS Management Plan based on WHS legislation and ISO 45001",
      "output_type": "Management Plan with safety controls",
      "agent_id": "OHSMP_GENERATION",
      "entities": ["ManagementPlan"],
      "files": [
        "shared/instructions.md",
        "shared/connection details.md",
        "shared/Writing to Generated DB.md",
        "shared/neo4j standards schema.md",
        "shared/neo4j project docs schema.md",
        "shared/neo4j reference docs schema.md",
        "prompts/ohsmp-generation.md"
      ]
    },
    "document-metadata": {
      "description": "Extract document register metadata from project files",
      "output_type": "Document nodes with classification and metadata",
      "agent_id": "DOCUMENT_METADATA",
      "entities": ["Document"],
      "files": [
        "shared/instructions.md",
        "shared/connection details.md",
        "shared/Writing to Generated DB.md",
        "shared/neo4j project docs schema.md",
        "shared/neo4j reference docs schema.md",
        "prompts/document-metadata.md"
      ]
    },
    "standards-extraction": {
      "description": "Extract all referenced standards and specifications from project documents",
      "output_type": "Referenced standards with database linkages",
      "agent_id": "STANDARDS_EXTRACTION",
      "entities": ["Standard"],
      "files": [
        "shared/instructions.md",
        "shared/connection details.md",
        "shared/Writing to Generated DB.md",
        "shared/neo4j standards schema.md",
        "shared/neo4j project docs schema.md",
        "shared/neo4j reference docs schema.md",
        "prompts/standards-extraction.md"
      ]
    },
    "qse-generation": {
      "description": "Generate corporate QSE system procedures and templates",
      "output_type": "QSE system content with procedures and forms",
      "agent_id": "QSE_GENERATION",
      "entities": ["ManagementPlan", "Document"],
      "files": [
        "shared/instructions.md",
        "shared/connection details.md",
        "shared/Writing to Generated DB.md",
        "shared/neo4j standards schema.md",
        "shared/neo4j project docs schema.md",
        "shared/neo4j reference docs schema.md",
        "prompts/qse-generation.md"
      ]
    }
  },
  "shared_files": {
    "description": "Files included in all agent workspaces. Schema files are generated dynamically.",
    "files": [
      "shared/instructions.md",
      "shared/connection details.md",
      "shared/Writing to Generated DB.md",
      "shared/neo4j standards schema.md",
      "shared/neo4j project docs schema.md",
      "shared/neo4j reference docs schema.md"
    ]
  },
  "notes": {
    "schema_generation": "AGENT_SCHEMA.md is dynamically generated from master-schema.ts. The full TypeScript file is never copied to workspaces.",
    "database_access": "Agents read from Standards (7687) and Project Docs (7688), write to Generated (7690)",
    "workspace_structure": "Each agent session gets a unique workspace at /app/opencode-workspace/agent-sessions/{session-id}/ with task-specific files and generated schema docs",
    "business_keys": "All entities use business keys (projectId + code/number/docNo) instead of UUIDs for better LLM comprehension"
  }
}
